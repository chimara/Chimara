<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>How to Read</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.71.0">
<link rel="start" href="index.html" title="Chimara Reference Manual">
<link rel="up" href="chimara-glk-spec-streams.html" title="Streams">
<link rel="prev" href="chimara-How-to-Print.html" title="How to Print">
<link rel="next" href="chimara-Closing-Streams.html" title="Closing Streams">
<meta name="generator" content="GTK-Doc V1.25 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#chimara-How-to-Read.description" class="shortcut">Description</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="chimara-glk-spec-streams.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="chimara-How-to-Print.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="chimara-Closing-Streams.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry" lang="en">
<a name="chimara-How-to-Read"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="chimara-How-to-Read.top_of_page"></a>How to Read</span></h2>
<p>How to Read — Reading from streams</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1" lang="en">
<a name="chimara-How-to-Read.functions"></a><h2>Functions</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a href="chimara-Basic-Types.html#glsi32" title="glsi32"><span class="returnvalue">glsi32</span></a>
</td>
<td class="function_name">
<a href="chimara-How-to-Read.html#glk-get-char-stream" title="glk_get_char_stream ()">glk_get_char_stream</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
</td>
<td class="function_name">
<a href="chimara-How-to-Read.html#glk-get-buffer-stream" title="glk_get_buffer_stream ()">glk_get_buffer_stream</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
</td>
<td class="function_name">
<a href="chimara-How-to-Read.html#glk-get-line-stream" title="glk_get_line_stream ()">glk_get_line_stream</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="chimara-Basic-Types.html#glsi32" title="glsi32"><span class="returnvalue">glsi32</span></a>
</td>
<td class="function_name">
<a href="chimara-How-to-Read.html#glk-get-char-stream-uni" title="glk_get_char_stream_uni ()">glk_get_char_stream_uni</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
</td>
<td class="function_name">
<a href="chimara-How-to-Read.html#glk-get-buffer-stream-uni" title="glk_get_buffer_stream_uni ()">glk_get_buffer_stream_uni</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
</td>
<td class="function_name">
<a href="chimara-How-to-Read.html#glk-get-line-stream-uni" title="glk_get_line_stream_uni ()">glk_get_line_stream_uni</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1" lang="en">
<a name="chimara-How-to-Read.includes"></a><h2>Includes</h2>
<pre class="synopsis">#include &lt;libchimara/glk.h&gt;
</pre>
</div>
<div class="refsect1" lang="en">
<a name="chimara-How-to-Read.description"></a><h2>Description</h2>
<p>You can read Latin-1 or Unicode characters, buffers, or whole lines from any
stream. The characters will be converted into the form in which you request
them.</p>
</div>
<div class="refsect1" lang="en">
<a name="chimara-How-to-Read.functions_details"></a><h2>Functions</h2>
<div class="refsect2" lang="en">
<a name="glk-get-char-stream"></a><h3>glk_get_char_stream ()</h3>
<pre class="programlisting"><a href="chimara-Basic-Types.html#glsi32" title="glsi32"><span class="returnvalue">glsi32</span></a>
glk_get_char_stream (<em class="parameter"><code><a href="chimara-Opaque-Objects.html#strid-t" title="strid_t"><span class="type">strid_t</span></a> str</code></em>);</pre>
<p>Reads one character from the stream <em class="parameter"><code>str</code></em>
.
(There is no notion of a “current input stream.”)
It is illegal for <em class="parameter"><code>str</code></em>
 to be <code class="literal">NULL</code>, or an output-only stream.</p>
<p>The result will be between 0 and 255. As with all basic text functions, Glk
assumes the Latin-1 encoding.
See <a href="chimara-Character-Encoding.html" title="Character Encoding">Character Encoding</a>.
If the end of the stream has been reached, the result will be -1.</p>
<div class="note">
<h3 class="title"></h3>
<p>
  Note that high-bit characters (128..255) are <span class="emphasis"><em>not</em></span>
  returned as negative numbers.
</p>
</div>
<p>If the stream contains Unicode data — for example, if it was created
with <a href="chimara-The-Types-of-Streams.html#glk-stream-open-file-uni" title="glk_stream_open_file_uni ()"><code class="function">glk_stream_open_file_uni()</code></a> or <a href="chimara-The-Types-of-Streams.html#glk-stream-open-memory-uni" title="glk_stream_open_memory_uni ()"><code class="function">glk_stream_open_memory_uni()</code></a> — then
characters beyond 255 will be returned as 0x3F (<code class="literal">"?"</code>).</p>
<p>It is usually more efficient to read several characters at once with
<a href="chimara-How-to-Read.html#glk-get-buffer-stream" title="glk_get_buffer_stream ()"><code class="function">glk_get_buffer_stream()</code></a> or <a href="chimara-How-to-Read.html#glk-get-line-stream" title="glk_get_line_stream ()"><code class="function">glk_get_line_stream()</code></a>, as opposed to calling
<a href="chimara-How-to-Read.html#glk-get-char-stream" title="glk_get_char_stream ()"><code class="function">glk_get_char_stream()</code></a> several times.</p>
<div class="refsect3" lang="en">
<a name="glk-get-char-stream.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>str</p></td>
<td class="parameter_description"><p>An input stream.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="glk-get-char-stream.returns"></a><h4>Returns</h4>
<p> A character value between 0 and 255, or -1 on end of stream.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="glk-get-buffer-stream"></a><h3>glk_get_buffer_stream ()</h3>
<pre class="programlisting"><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
glk_get_buffer_stream (<em class="parameter"><code><a href="chimara-Opaque-Objects.html#strid-t" title="strid_t"><span class="type">strid_t</span></a> str</code></em>,
                       <em class="parameter"><code><span class="type">char</span> *buf</code></em>,
                       <em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> len</code></em>);</pre>
<p>Reads <em class="parameter"><code>len</code></em>
 characters from <em class="parameter"><code>str</code></em>
, unless the end of stream is reached first.
No terminal null is placed in the buffer.</p>
<div class="refsect3" lang="en">
<a name="glk-get-buffer-stream.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>str</p></td>
<td class="parameter_description"><p>An input stream.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>buf</p></td>
<td class="parameter_description"><p>A buffer with space for at least <em class="parameter"><code>len</code></em>
characters.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>len</p></td>
<td class="parameter_description"><p>The number of characters to read.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="glk-get-buffer-stream.returns"></a><h4>Returns</h4>
<p> The number of characters actually read.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="glk-get-line-stream"></a><h3>glk_get_line_stream ()</h3>
<pre class="programlisting"><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
glk_get_line_stream (<em class="parameter"><code><a href="chimara-Opaque-Objects.html#strid-t" title="strid_t"><span class="type">strid_t</span></a> str</code></em>,
                     <em class="parameter"><code><span class="type">char</span> *buf</code></em>,
                     <em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> len</code></em>);</pre>
<p>Reads characters from <em class="parameter"><code>str</code></em>
, until either <span class="mathphrase"><em class="parameter"><code>len</code></em>
 - 1</span> characters have
been read or a newline has been read.
It then puts a terminal null (<code class="literal">'\0'</code>) character on the end.
It returns the number of characters actually read, including the newline (if
there is one) but not including the terminal null.</p>
<div class="refsect3" lang="en">
<a name="glk-get-line-stream.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>str</p></td>
<td class="parameter_description"><p>An input stream.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>buf</p></td>
<td class="parameter_description"><p>A buffer with space for at least <em class="parameter"><code>len</code></em>
characters.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>len</p></td>
<td class="parameter_description"><p>The number of characters to read, plus one.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="glk-get-line-stream.returns"></a><h4>Returns</h4>
<p> The number of characters actually read.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="glk-get-char-stream-uni"></a><h3>glk_get_char_stream_uni ()</h3>
<pre class="programlisting"><a href="chimara-Basic-Types.html#glsi32" title="glsi32"><span class="returnvalue">glsi32</span></a>
glk_get_char_stream_uni (<em class="parameter"><code><a href="chimara-Opaque-Objects.html#strid-t" title="strid_t"><span class="type">strid_t</span></a> str</code></em>);</pre>
<p>Reads one character from the stream <em class="parameter"><code>str</code></em>
. If the end of the stream has been
reached, the result will be -1.</p>
<div class="refsect3" lang="en">
<a name="glk-get-char-stream-uni.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>str</p></td>
<td class="parameter_description"><p>An input stream.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="glk-get-char-stream-uni.returns"></a><h4>Returns</h4>
<p> A value between 0 and 0x7FFFFFFF, or -1 on end of stream.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="glk-get-buffer-stream-uni"></a><h3>glk_get_buffer_stream_uni ()</h3>
<pre class="programlisting"><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
glk_get_buffer_stream_uni (<em class="parameter"><code><a href="chimara-Opaque-Objects.html#strid-t" title="strid_t"><span class="type">strid_t</span></a> str</code></em>,
                           <em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> *buf</code></em>,
                           <em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> len</code></em>);</pre>
<p>Reads <em class="parameter"><code>len</code></em>
 Unicode characters from <em class="parameter"><code>str</code></em>
, unless the end of stream is reached 
first. No terminal null is placed in the buffer.</p>
<div class="refsect3" lang="en">
<a name="glk-get-buffer-stream-uni.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>str</p></td>
<td class="parameter_description"><p>An input stream.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>buf</p></td>
<td class="parameter_description"><p>A buffer with space for at least <em class="parameter"><code>len</code></em>
Unicode code points.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>len</p></td>
<td class="parameter_description"><p>The number of characters to read.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="glk-get-buffer-stream-uni.returns"></a><h4>Returns</h4>
<p> The number of Unicode characters actually read.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="glk-get-line-stream-uni"></a><h3>glk_get_line_stream_uni ()</h3>
<pre class="programlisting"><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
glk_get_line_stream_uni (<em class="parameter"><code><a href="chimara-Opaque-Objects.html#strid-t" title="strid_t"><span class="type">strid_t</span></a> str</code></em>,
                         <em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> *buf</code></em>,
                         <em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> len</code></em>);</pre>
<p>Reads Unicode characters from <em class="parameter"><code>str</code></em>
, until either <span class="mathphrase"><em class="parameter"><code>len</code></em>
 - 1</span> Unicode characters
have been read or a newline has been read.
It then puts a terminal null (a zero value) on the end.</p>
<div class="refsect3" lang="en">
<a name="glk-get-line-stream-uni.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>str</p></td>
<td class="parameter_description"><p>An input stream.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>buf</p></td>
<td class="parameter_description"><p>A buffer with space for at least <em class="parameter"><code>len</code></em>
Unicode code points.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>len</p></td>
<td class="parameter_description"><p>The number of characters to read, plus one.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="glk-get-line-stream-uni.returns"></a><h4>Returns</h4>
<p> The number of characters actually read, including the newline (if
there is one) but not including the terminal null.</p>
</div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="chimara-How-to-Read.other_details"></a><h2>Types and Values</h2>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.25</div>
</body>
</html>