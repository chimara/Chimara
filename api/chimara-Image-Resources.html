<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Image Resources</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.71.0">
<link rel="start" href="index.html" title="Chimara Reference Manual">
<link rel="up" href="chimara-glk-spec-graphics.html" title="Graphics">
<link rel="prev" href="chimara-glk-spec-graphics.html" title="Graphics">
<link rel="next" href="chimara-Graphics-in-Graphics-Windows.html" title="Graphics in Graphics Windows">
<meta name="generator" content="GTK-Doc V1.25 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#chimara-Image-Resources.description" class="shortcut">Description</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="chimara-glk-spec-graphics.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="chimara-glk-spec-graphics.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="chimara-Graphics-in-Graphics-Windows.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry" lang="en">
<a name="chimara-Image-Resources"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="chimara-Image-Resources.top_of_page"></a>Image Resources</span></h2>
<p>Image Resources — Graphics in Glk</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1" lang="en">
<a name="chimara-Image-Resources.functions"></a><h2>Functions</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
</td>
<td class="function_name">
<a href="chimara-Image-Resources.html#glk-image-get-info" title="glk_image_get_info ()">glk_image_get_info</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
</td>
<td class="function_name">
<a href="chimara-Image-Resources.html#glk-image-draw" title="glk_image_draw ()">glk_image_draw</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
</td>
<td class="function_name">
<a href="chimara-Image-Resources.html#glk-image-draw-scaled" title="glk_image_draw_scaled ()">glk_image_draw_scaled</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1" lang="en">
<a name="chimara-Image-Resources.includes"></a><h2>Includes</h2>
<pre class="synopsis">#include &lt;libchimara/glk.h&gt;
</pre>
</div>
<div class="refsect1" lang="en">
<a name="chimara-Image-Resources.description"></a><h2>Description</h2>
<p>In accordance with this modern age, Glk provides for a modicum of graphical
flair. It does not attempt to be a complete graphical toolkit. Those already
exist. Glk strikes the usual uncomfortable balance between power, 
portability, and ease of implementation: commands for arranging pre-supplied
images on the screen and intermixed with text.</p>
<p>Graphics is an optional capability in Glk; not all libraries support 
graphics. This should not be a surprise.</p>
<p>Most of the graphics commands in Glk deal with image resources. Your program
does not have to worry about how images are stored. Everything is a resource,
and a resource is referred to by an integer identifier. You may, for example,
call a function to display image number 17. The format, loading, and 
displaying of that image is entirely up to the Glk library for the platform
in question.</p>
<p>Of course, it is also desirable to have a platform-independent way to store
sounds and images. Blorb is the official resource-storage format of Glk. A
Glk library does not have to understand Blorb, but it is more likely to
understand Blorb than any other format.</p>
<div class="note">
<h3 class="title"></h3>
<p>
  Glk does not specify the exact format of images, but Blorb does. Images in 
  a Blorb archive must be PNG or JPEG files. More formats may be added if 
  real-world experience shows it to be desirable. However, that is in the 
  domain of the Blorb specification. The Glk spec, and Glk programming, will
  not change.
</p>
</div>
<p>At present, images can only be drawn in graphics windows and text buffer 
windows. In fact, a library may not implement both of these possibilities.
You should test each with the <a href="chimara-The-Gestalt-System.html#gestalt-DrawImage" title="gestalt_DrawImage"><code class="literal">gestalt_DrawImage</code></a> selector if you plan to use
it.
See <a href="chimara-Testing-for-Graphics-Capabilities.html" title="Testing for Graphics Capabilities">Testing for Graphics
Capabilities</a>.</p>
</div>
<div class="refsect1" lang="en">
<a name="chimara-Image-Resources.functions_details"></a><h2>Functions</h2>
<div class="refsect2" lang="en">
<a name="glk-image-get-info"></a><h3>glk_image_get_info ()</h3>
<pre class="programlisting"><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
glk_image_get_info (<em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> image</code></em>,
                    <em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> *width</code></em>,
                    <em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> *height</code></em>);</pre>
<p>This gets information about the image resource with the given identifier. It
returns <code class="literal">TRUE</code> (1) if there is such an image, and <code class="literal">FALSE</code> (0) if not. You can
also pass pointers to width and height variables; if the image exists, the
variables will be filled in with the width and height of the image, in
pixels. (You can pass <code class="literal">NULL</code> for either width or height if you don't care
about that information.)</p>
<div class="note">
<h3 class="title"></h3>
<p>
  You should always use this function to measure the size of images when you 
  are creating your display. Do this even if you created the images, and you
  know how big they “should” be.
  This is because images may be scaled in translating from one platform to
  another, or even from one machine to another.
  A Glk library might display all images larger than their original size,
  because of screen resolution or player preference.
  Images will be scaled proportionally, but you still need to call 
  <a href="chimara-Image-Resources.html#glk-image-get-info" title="glk_image_get_info ()"><code class="function">glk_image_get_info()</code></a> to determine their absolute size.
</p>
</div>
<div class="refsect3" lang="en">
<a name="glk-image-get-info.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>image</p></td>
<td class="parameter_description"><p>An image resource number.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>width</p></td>
<td class="parameter_description"><p>Pointer to a location at which to store the image's width.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>height</p></td>
<td class="parameter_description"><p>Pointer to a location at which to store the image's height.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="glk-image-get-info.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if <em class="parameter"><code>image</code></em>
is a valid identifier, <code class="literal">FALSE</code> if not.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="glk-image-draw"></a><h3>glk_image_draw ()</h3>
<pre class="programlisting"><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
glk_image_draw (<em class="parameter"><code><a href="chimara-Opaque-Objects.html#winid-t" title="winid_t"><span class="type">winid_t</span></a> win</code></em>,
                <em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> image</code></em>,
                <em class="parameter"><code><a href="chimara-Basic-Types.html#glsi32" title="glsi32"><span class="type">glsi32</span></a> val1</code></em>,
                <em class="parameter"><code><a href="chimara-Basic-Types.html#glsi32" title="glsi32"><span class="type">glsi32</span></a> val2</code></em>);</pre>
<p>This draws the given image resource in the given window. The position of the
image is given by <em class="parameter"><code>val1</code></em>
 and <em class="parameter"><code>val2</code></em>
, but their meaning varies depending on what
kind of window you are drawing in.
See <a href="chimara-Graphics-in-Graphics-Windows.html" title="Graphics in Graphics Windows">Graphics is Graphics Windows</a>
and <a href="chimara-Graphics-in-Text-Buffer-Windows.html" title="Graphics in Text Buffer Windows">Graphics in Text Buffer
Windows</a>.</p>
<p>This function returns a flag indicating whether the drawing operation 
succeeded.</p>
<div class="note">
<h3 class="title"></h3>
<p>
  A <code class="literal">FALSE</code> result can occur for many reasons. The image data might be 
  corrupted; the library may not have enough memory to operate; there may be 
  no image with the given identifier; the window might not support image 
  display; and so on.
</p>
</div>
<div class="refsect3" lang="en">
<a name="glk-image-draw.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>win</p></td>
<td class="parameter_description"><p>A graphics or text buffer window.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>image</p></td>
<td class="parameter_description"><p>An image resource number.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>val1</p></td>
<td class="parameter_description"><p>The x coordinate at which to draw the image (if <em class="parameter"><code>win</code></em>
is a graphics
window); or, an <a href="chimara-Graphics-in-Text-Buffer-Windows.html#imagealign-InlineUp" title="imagealign_InlineUp">image alignment</a> constant (if <em class="parameter"><code>win</code></em>
is a
text window).</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>val2</p></td>
<td class="parameter_description"><p>The y coordinate at which to draw the image (if <em class="parameter"><code>win</code></em>
is a graphics
window); this parameter is ignored if <em class="parameter"><code>win</code></em>
is a text buffer window.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="glk-image-draw.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if the operation succeeded, <code class="literal">FALSE</code> if not.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="glk-image-draw-scaled"></a><h3>glk_image_draw_scaled ()</h3>
<pre class="programlisting"><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="returnvalue">glui32</span></a>
glk_image_draw_scaled (<em class="parameter"><code><a href="chimara-Opaque-Objects.html#winid-t" title="winid_t"><span class="type">winid_t</span></a> win</code></em>,
                       <em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> image</code></em>,
                       <em class="parameter"><code><a href="chimara-Basic-Types.html#glsi32" title="glsi32"><span class="type">glsi32</span></a> val1</code></em>,
                       <em class="parameter"><code><a href="chimara-Basic-Types.html#glsi32" title="glsi32"><span class="type">glsi32</span></a> val2</code></em>,
                       <em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> width</code></em>,
                       <em class="parameter"><code><a href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> height</code></em>);</pre>
<p>This is similar to <a href="chimara-Image-Resources.html#glk-image-draw" title="glk_image_draw ()"><code class="function">glk_image_draw()</code></a>, but it scales the image to the given 
<em class="parameter"><code>width</code></em>
 and <em class="parameter"><code>height</code></em>
, instead of using the image's standard size. (You can 
measure the standard size with <a href="chimara-Image-Resources.html#glk-image-get-info" title="glk_image_get_info ()"><code class="function">glk_image_get_info()</code></a>.)</p>
<p>If <em class="parameter"><code>width</code></em>
 or <em class="parameter"><code>height</code></em>
 is zero, nothing is drawn. Since those arguments are 
unsigned integers, they cannot be negative. If you pass in a negative number,
it will be interpreted as a very large positive number, which is almost 
certain to end badly.</p>
<div class="refsect3" lang="en">
<a name="glk-image-draw-scaled.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>win</p></td>
<td class="parameter_description"><p>A graphics or text buffer window.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>image</p></td>
<td class="parameter_description"><p>An image resource number.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>val1</p></td>
<td class="parameter_description"><p>The x coordinate at which to draw the image (if <em class="parameter"><code>win</code></em>
is a graphics
window); or, an <a href="chimara-Graphics-in-Text-Buffer-Windows.html#imagealign-InlineUp" title="imagealign_InlineUp">image alignment</a> constant (if <em class="parameter"><code>win</code></em>
is a
text window).</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>val2</p></td>
<td class="parameter_description"><p>The y coordinate at which to draw the image (if <em class="parameter"><code>win</code></em>
is a graphics
window); this parameter is ignored if <em class="parameter"><code>win</code></em>
is a text buffer window.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>width</p></td>
<td class="parameter_description"><p>The width of the image.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>height</p></td>
<td class="parameter_description"><p>The height of the image.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="glk-image-draw-scaled.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if the operation succeeded, <code class="literal">FALSE</code> otherwise.</p>
</div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="chimara-Image-Resources.other_details"></a><h2>Types and Values</h2>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.25</div>
</body>
</html>