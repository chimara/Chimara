<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Timer Events: Chimara Reference Manual</title>
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Chimara Reference Manual">
<link rel="up" href="chimara-glk-spec-events.html" title="Events">
<link rel="prev" href="chimara-Mouse-Input-Events.html" title="Mouse Input Events">
<link rel="next" href="chimara-Other-Events.html" title="Other Events">
<meta name="generator" content="GTK-Doc V1.33.1 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#chimara-Timer-Events.description" class="shortcut">Description</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="chimara-glk-spec-events.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="chimara-Mouse-Input-Events.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="chimara-Other-Events.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="chimara-Timer-Events"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="chimara-Timer-Events.top_of_page"></a>Timer Events</span></h2>
<p>Timer Events — Events sent at fixed intervals</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="chimara-Timer-Events.functions"></a><h2>Functions</h2>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="functions_proto_type">
<col class="functions_proto_name">
</colgroup>
<tbody><tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="chimara-Timer-Events.html#glk-request-timer-events" title="glk_request_timer_events ()">glk_request_timer_events</a> <span class="c_punctuation">()</span>
</td>
</tr></tbody>
</table></div>
</div>
<div class="refsect1">
<a name="chimara-Timer-Events.includes"></a><h2>Includes</h2>
<pre class="synopsis">#include &lt;libchimara/glk.h&gt;
</pre>
</div>
<div class="refsect1">
<a name="chimara-Timer-Events.description"></a><h2>Description</h2>
<p>You can request that an event be sent at fixed intervals, regardless of what
the player does. Unlike input events, timer events can be tested for with
<a class="link" href="chimara-Events.html#glk-select-poll" title="glk_select_poll ()"><code class="function">glk_select_poll()</code></a> as well as <a class="link" href="chimara-Events.html#glk-select" title="glk_select ()"><code class="function">glk_select()</code></a>.</p>
<p>It is possible that the library does not support timer events. You can check
this with the <a class="link" href="chimara-The-Gestalt-System.html#gestalt-Timer" title="gestalt_Timer"><code class="literal">gestalt_Timer</code></a> selector.</p>
</div>
<div class="refsect1">
<a name="chimara-Timer-Events.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="glk-request-timer-events"></a><h3>glk_request_timer_events ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
glk_request_timer_events (<em class="parameter"><code><a class="link" href="chimara-Basic-Types.html#glui32" title="glui32"><span class="type">glui32</span></a> millisecs</code></em>);</pre>
<p>Initially, there is no timer and you get no timer events. If you call
<code class="literal">glk_request_timer_events(&lt;emphasis&gt;N&lt;/emphasis&gt;)</code>, with
<span class="emphasis"><em>N</em></span> not 0, you will get timer events about every 
<span class="emphasis"><em>N</em></span> milliseconds thereafter. (Assuming that they are 
supported — if not, <a class="link" href="chimara-Timer-Events.html#glk-request-timer-events" title="glk_request_timer_events ()"><code class="function">glk_request_timer_events()</code></a> has no effect.) Unlike 
keyboard and mouse events, timer events will continue until you shut them 
off. You do not have to re-request them every time you get one. Call 
<code class="literal">glk_request_timer_events(0)</code> to stop getting timer events.</p>
<p>The rule is that when you call <a class="link" href="chimara-Events.html#glk-select" title="glk_select ()"><code class="function">glk_select()</code></a> or <a class="link" href="chimara-Events.html#glk-select-poll" title="glk_select_poll ()"><code class="function">glk_select_poll()</code></a>, if it has
been more than <span class="emphasis"><em>N</em></span> milliseconds since the last timer 
event, and (for <a class="link" href="chimara-Events.html#glk-select" title="glk_select ()"><code class="function">glk_select()</code></a>) if there is no player input, you will receive 
an event whose type is <a class="link" href="chimara-Events.html#evtype-Timer" title="evtype_Timer"><code class="literal">evtype_Timer</code></a>. (<em class="parameter"><code>win</code></em>
, <em class="parameter"><code>val1</code></em>
, and <em class="parameter"><code>val2</code></em>
 will all be 0.) </p>
<p>Timer events do not stack up. If you spend 10<span class="emphasis"><em>N</em></span> 
milliseconds doing computation, and then call <a class="link" href="chimara-Events.html#glk-select" title="glk_select ()"><code class="function">glk_select()</code></a>, you will not get 
ten timer events in a row. The library will simply note that it has been more
than <span class="emphasis"><em>N</em></span> milliseconds, and return a timer event right 
away. If you call <a class="link" href="chimara-Events.html#glk-select" title="glk_select ()"><code class="function">glk_select()</code></a> again immediately, it will be 
<span class="emphasis"><em>N</em></span> milliseconds before the next timer event. </p>
<p>This means that the timing of timer events is approximate, and the library
will err on the side of being late. If there is a conflict between player
input events and timer events, the player input takes precedence.</p>
<div class="note"><p>
 This prevents the user from being locked out by overly enthusiastic timer 
 events. Unfortunately, it also means that your timer can be locked out on 
 slower machines, if the player pounds too enthusiastically on the keyboard. 
 Sorry.
</p></div>
<div class="note"><p>
 I don't have to tell you that a millisecond is one thousandth of a second,
 do I?
</p></div>
<div class="refsect3">
<a name="glk-request-timer-events.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>millisecs</p></td>
<td class="parameter_description"><p>Interval in milliseconds to request timer events for, or 0 to
stop timer events.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.33.1</div>
</body>
</html>