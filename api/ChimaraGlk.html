<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ChimaraGlk</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.71.0">
<link rel="start" href="index.html" title="Chimara Reference Manual">
<link rel="up" href="chimara-api-reference.html" title="Chimara API Reference">
<link rel="prev" href="chimara-api-reference.html" title="Chimara API Reference">
<link rel="next" href="chimara-chimara-if.html" title="ChimaraIF">
<meta name="generator" content="GTK-Doc V1.25 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#ChimaraGlk.description" class="shortcut">Description</a></span><span id="nav_hierarchy">  <span class="dim">|</span> 
                  <a href="#ChimaraGlk.object-hierarchy" class="shortcut">Object Hierarchy</a></span><span id="nav_interfaces">  <span class="dim">|</span> 
                  <a href="#ChimaraGlk.implemented-interfaces" class="shortcut">Implemented Interfaces</a></span><span id="nav_properties">  <span class="dim">|</span> 
                  <a href="#ChimaraGlk.properties" class="shortcut">Properties</a></span><span id="nav_signals">  <span class="dim">|</span> 
                  <a href="#ChimaraGlk.signals" class="shortcut">Signals</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="chimara-api-reference.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="chimara-api-reference.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="chimara-chimara-if.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry" lang="en">
<a name="ChimaraGlk"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="ChimaraGlk.top_of_page"></a>ChimaraGlk</span></h2>
<p>ChimaraGlk — Widget which executes a Glk program</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.stability-level"></a><h2>Stability Level</h2>
<acronym title="Unstable interfaces are experimental or transitional. They are typically used to
give outside developers early access to new or rapidly changing technology, or
to provide an interim solution to a problem where a more general solution is
anticipated. No claims are made about either source or binary compatibility from
one minor release to the next.

The Unstable interface level is a warning that these interfaces are  subject to
change without warning and should not be used in unbundled products.

Given such caveats, customer impact need not be a factor when considering
incompatible changes to an Unstable interface in a major or minor release.
Nonetheless, when such changes are introduced, the changes should still be
mentioned in the release notes for the affected release.
"><span class="acronym">Unstable</span></acronym>, unless otherwise indicated
</div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.functions"></a><h2>Functions</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="function_type">
<span class="returnvalue">GQuark</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-error-quark" title="chimara_error_quark ()">chimara_error_quark</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gchar</span> *
</td>
<td class="function_name">
<span class="c_punctuation">(</span><a href="ChimaraGlk.html#ChimaraResourceLoadFunc" title="ChimaraResourceLoadFunc ()">*ChimaraResourceLoadFunc</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">GtkWidget</span> *
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-new" title="chimara_glk_new ()">chimara_glk_new</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-set-interactive" title="chimara_glk_set_interactive ()">chimara_glk_set_interactive</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-get-interactive" title="chimara_glk_get_interactive ()">chimara_glk_get_interactive</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-set-protect" title="chimara_glk_set_protect ()">chimara_glk_set_protect</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-get-protect" title="chimara_glk_get_protect ()">chimara_glk_get_protect</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-set-spacing" title="chimara_glk_set_spacing ()">chimara_glk_set_spacing</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">guint</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-get-spacing" title="chimara_glk_get_spacing ()">chimara_glk_get_spacing</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-set-css-to-default" title="chimara_glk_set_css_to_default ()">chimara_glk_set_css_to_default</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-set-css-from-file" title="chimara_glk_set_css_from_file ()">chimara_glk_set_css_from_file</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-set-css-from-string" title="chimara_glk_set_css_from_string ()">chimara_glk_set_css_from_string</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-run" title="chimara_glk_run ()">chimara_glk_run</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-run-file" title="chimara_glk_run_file ()">chimara_glk_run_file</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-stop" title="chimara_glk_stop ()">chimara_glk_stop</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-wait" title="chimara_glk_wait ()">chimara_glk_wait</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-unload-plugin" title="chimara_glk_unload_plugin ()">chimara_glk_unload_plugin</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-get-running" title="chimara_glk_get_running ()">chimara_glk_get_running</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-feed-char-input" title="chimara_glk_feed_char_input ()">chimara_glk_feed_char_input</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-feed-line-input" title="chimara_glk_feed_line_input ()">chimara_glk_feed_line_input</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-is-char-input-pending" title="chimara_glk_is_char_input_pending ()">chimara_glk_is_char_input_pending</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-is-line-input-pending" title="chimara_glk_is_line_input_pending ()">chimara_glk_is_line_input_pending</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">GtkTextTag</span> *
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-get-tag" title="chimara_glk_get_tag ()">chimara_glk_get_tag</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">const <span class="returnvalue">gchar</span> **
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-get-tag-names" title="chimara_glk_get_tag_names ()">chimara_glk_get_tag_names</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="ChimaraGlk.html#chimara-glk-set-resource-load-callback" title="chimara_glk_set_resource_load_callback ()">chimara_glk_set_resource_load_callback</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.properties"></a><h2>Properties</h2>
<div class="informaltable"><table border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="property_type"><span class="type">gboolean</span></td>
<td class="property_name"><a href="ChimaraGlk.html#ChimaraGlk--interactive" title="The “interactive” property">interactive</a></td>
<td class="property_flags">Read / Write / Construct</td>
</tr>
<tr>
<td class="property_type">
<span class="type">gchar</span> *</td>
<td class="property_name"><a href="ChimaraGlk.html#ChimaraGlk--program-info" title="The “program-info” property">program-info</a></td>
<td class="property_flags">Read</td>
</tr>
<tr>
<td class="property_type">
<span class="type">gchar</span> *</td>
<td class="property_name"><a href="ChimaraGlk.html#ChimaraGlk--program-name" title="The “program-name” property">program-name</a></td>
<td class="property_flags">Read</td>
</tr>
<tr>
<td class="property_type"><span class="type">gboolean</span></td>
<td class="property_name"><a href="ChimaraGlk.html#ChimaraGlk--protect" title="The “protect” property">protect</a></td>
<td class="property_flags">Read / Write / Construct</td>
</tr>
<tr>
<td class="property_type"><span class="type">gboolean</span></td>
<td class="property_name"><a href="ChimaraGlk.html#ChimaraGlk--running" title="The “running” property">running</a></td>
<td class="property_flags">Read</td>
</tr>
<tr>
<td class="property_type"><span class="type">guint</span></td>
<td class="property_name"><a href="ChimaraGlk.html#ChimaraGlk--spacing" title="The “spacing” property">spacing</a></td>
<td class="property_flags">Read / Write / Construct</td>
</tr>
<tr>
<td class="property_type">
<span class="type">gchar</span> *</td>
<td class="property_name"><a href="ChimaraGlk.html#ChimaraGlk--story-name" title="The “story-name” property">story-name</a></td>
<td class="property_flags">Read</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.signals"></a><h2>Signals</h2>
<div class="informaltable"><table border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a href="ChimaraGlk.html#ChimaraGlk-char-input" title="The “char-input” signal">char-input</a></td>
<td class="signal_flags"> </td>
</tr>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a href="ChimaraGlk.html#ChimaraGlk-iliad-screen-update" title="The “iliad-screen-update” signal">iliad-screen-update</a></td>
<td class="signal_flags"> </td>
</tr>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a href="ChimaraGlk.html#ChimaraGlk-line-input" title="The “line-input” signal">line-input</a></td>
<td class="signal_flags"> </td>
</tr>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a href="ChimaraGlk.html#ChimaraGlk-started" title="The “started” signal">started</a></td>
<td class="signal_flags">Run First</td>
</tr>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a href="ChimaraGlk.html#ChimaraGlk-stopped" title="The “stopped” signal">stopped</a></td>
<td class="signal_flags">Run First</td>
</tr>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a href="ChimaraGlk.html#ChimaraGlk-text-buffer-output" title="The “text-buffer-output” signal">text-buffer-output</a></td>
<td class="signal_flags"> </td>
</tr>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a href="ChimaraGlk.html#ChimaraGlk-waiting" title="The “waiting” signal">waiting</a></td>
<td class="signal_flags"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a href="ChimaraGlk.html#ChimaraGlk-struct" title="ChimaraGlk">ChimaraGlk</a></td>
</tr>
<tr>
<td class="datatype_keyword">enum</td>
<td class="function_name"><a href="ChimaraGlk.html#ChimaraError" title="enum ChimaraError">ChimaraError</a></td>
</tr>
<tr>
<td class="define_keyword">#define</td>
<td class="function_name"><a href="ChimaraGlk.html#CHIMARA-ERROR:CAPS" title="CHIMARA_ERROR">CHIMARA_ERROR</a></td>
</tr>
<tr>
<td class="datatype_keyword">enum</td>
<td class="function_name"><a href="ChimaraGlk.html#ChimaraResourceType" title="enum ChimaraResourceType">ChimaraResourceType</a></td>
</tr>
<tr>
<td class="datatype_keyword">enum</td>
<td class="function_name"><a href="ChimaraGlk.html#ChimaraGlkWindowType" title="enum ChimaraGlkWindowType">ChimaraGlkWindowType</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="screen">    GObject
    <span class="lineart">╰──</span> GInitiallyUnowned
        <span class="lineart">╰──</span> GtkWidget
            <span class="lineart">╰──</span> GtkContainer
                <span class="lineart">╰──</span> ChimaraGlk
                    <span class="lineart">╰──</span> <a href="chimara-chimara-if.html#ChimaraIF">ChimaraIF</a>
</pre>
</div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.implemented-interfaces"></a><h2>Implemented Interfaces</h2>
<p>
ChimaraGlk implements
 AtkImplementorIface and  GtkBuildable.</p>
</div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.includes"></a><h2>Includes</h2>
<pre class="synopsis">#include &lt;libchimara/chimara-glk.h&gt;
</pre>
</div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.description"></a><h2>Description</h2>
<p>The <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget opens and runs a Glk program. The program must be
compiled as a plugin module, with a function <code class="literal"><code class="function">glk_main()</code></code> that the Glk
library can hook into.</p>
<p>On Linux systems, this is a file with a name like <code class="literal">plugin.so</code>.
For portability, you can use libtool and automake:</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3</pre></td>
        <td class="listing_code"><pre class="programlisting">pkglib_LTLIBRARIES = plugin.la
plugin_la_SOURCES = plugin.c foo.c bar.c
plugin_la_LDFLAGS = -module -shared -avoid-version -export-symbols-regex <span class="number">&quot;^glk_main$$&quot;</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
This will produce <code class="literal">plugin.la</code> which is a text file containing the correct
plugin file to open (see the relevant section of the <a href="http://www.gnu.org/software/libtool/manual/html_node/Finding-the-dlname.html" target="_top">Libtool
manual</a>).</p>
<p>You need to initialize GDK threading in any program you use a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a>
widget in.
This means calling <code class="function">gdk_threads_init()</code> at the beginning of your program,
<span class="emphasis"><em>before</em></span> the call to <code class="function">gtk_init()</code>.
In addition to this, you must also protect your call to <code class="function">gtk_main()</code> by calling
<code class="function">gdk_threads_enter()</code> right before it, and <code class="function">gdk_threads_leave()</code> right after it.</p>
<p>The following sample program shows how to initialize and construct a simple 
GTK window that runs a Glk program:</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="preproc">#include </span><span class="number">&lt;glib.h&gt;</span>
<span class="preproc">#include </span><span class="number">&lt;gtk/gtk.h&gt;</span>
<span class="preproc">#include </span><span class="number">&lt;libchimara/chimara-glk.h&gt;</span>

<span class="type">int</span>
main(<span class="type">int</span> argc, <span class="type">char</span> *argv[])
{
    GtkWidget *window, *glk;
    GError *error = <span class="number">NULL</span>;
    gchar *plugin_argv[] = { <span class="number">&quot;plugin.so&quot;</span>, <span class="number">&quot;-option&quot;</span> };

    <span class="comment">// Initialize threads and GTK</span>
    gdk_threads_init();
    gtk_init(&amp;argc, &amp;argv);

    <span class="comment">// Construct the window and its contents. We quit the GTK main loop</span>
    <span class="comment">// when the window's close button is clicked.</span>
    window = gtk_window_new(GTK_WINDOW_TOPLEVEL);
    g_signal_connect(window, <span class="number">&quot;delete-event&quot;</span>, G_CALLBACK(gtk_main_quit), <span class="number">NULL</span>);
    glk = chimara_glk_new();
    gtk_container_add(GTK_CONTAINER(window), glk);
    gtk_widget_show_all(window);

    <span class="comment">// Add a reference to the ChimaraGlk widget, since we want it to</span>
    <span class="comment">// persist after the window's delete-event -- otherwise it will be destroyed</span>
    <span class="comment">// with the window.</span>
    g_object_ref(glk);

    <span class="comment">// Start the Glk program in a separate thread</span>
    <span class="keyword">if</span>(!chimara_glk_run(CHIMARA_GLK(glk), <span class="number">&quot;./plugin.so&quot;</span>, <span class="number">2</span>, plugin_argv, &amp;error))
        g_error(<span class="number">&quot;Error starting Glk library: </span><span class="symbol">%s</span><span class="symbol">\n</span><span class="number">&quot;</span>, error-&gt;message);

    <span class="comment">// Start the GTK main loop</span>
    gdk_threads_enter();
    gtk_main();
    gdk_threads_leave();

    <span class="comment">// After the GTK main loop exits, signal the Glk program to shut down if</span>
    <span class="comment">// it is still running, and wait for it to exit.</span>
    chimara_glk_stop(CHIMARA_GLK(glk));
    chimara_glk_wait(CHIMARA_GLK(glk));
    g_object_unref(glk);

    <span class="keyword">return</span> <span class="number">0</span>;
}</pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p></p>
</div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.functions_details"></a><h2>Functions</h2>
<div class="refsect2" lang="en">
<a name="chimara-error-quark"></a><h3>chimara_error_quark ()</h3>
<pre class="programlisting"><span class="returnvalue">GQuark</span>
chimara_error_quark (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>The error domain for errors from Chimara widgets.</p>
<div class="refsect3" lang="en">
<a name="chimara-error-quark.returns"></a><h4>Returns</h4>
<p> The string “chimara-error-quark” as a <span class="type">GQuark</span>.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraResourceLoadFunc"></a><h3>ChimaraResourceLoadFunc ()</h3>
<pre class="programlisting"><span class="returnvalue">gchar</span> *
<span class="c_punctuation">(</span>*ChimaraResourceLoadFunc<span class="c_punctuation">)</span> (<em class="parameter"><code><a href="ChimaraGlk.html#ChimaraResourceType" title="enum ChimaraResourceType"><span class="type">ChimaraResourceType</span></a> usage</code></em>,
                            <em class="parameter"><code><span class="type">guint32</span> resnum</code></em>,
                            <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<p>The type of function passed to <a href="ChimaraGlk.html#chimara-glk-set-resource-load-callback" title="chimara_glk_set_resource_load_callback ()"><code class="function">chimara_glk_set_resource_load_callback()</code></a>. It
takes a <a href="ChimaraGlk.html#ChimaraResourceType" title="enum ChimaraResourceType"><span class="type">ChimaraResourceType</span></a> constant, <em class="parameter"><code>usage</code></em>
, to indicate what sort of 
resource to look for; <em class="parameter"><code>resnum</code></em>
 is the resource number to look for, and
<em class="parameter"><code>user_data</code></em>
 is the user data provided along with the callback. The function
must return an allocated string containing the filename where the resource
can be found.</p>
<div class="refsect3" lang="en">
<a name="ChimaraResourceLoadFunc.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>usage</p></td>
<td class="parameter_description"><p>A <a href="ChimaraGlk.html#ChimaraResourceType" title="enum ChimaraResourceType"><span class="type">ChimaraResourceType</span></a> constant.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>resnum</p></td>
<td class="parameter_description"><p>The resource number to look for.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>A pointer to provide to the callback.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-new"></a><h3>chimara_glk_new ()</h3>
<pre class="programlisting"><span class="returnvalue">GtkWidget</span> *
chimara_glk_new (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>Creates and initializes a new <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-new.returns"></a><h4>Returns</h4>
<p> a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget, with a floating reference.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-set-interactive"></a><h3>chimara_glk_set_interactive ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chimara_glk_set_interactive (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>,
                             <em class="parameter"><code><span class="type">gboolean</span> interactive</code></em>);</pre>
<p>Sets the <a href="ChimaraGlk.html#ChimaraGlk--interactive" title="The “interactive” property"><span class="type">“interactive”</span></a> property of <em class="parameter"><code>glk</code></em>
.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-set-interactive.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>interactive</p></td>
<td class="parameter_description"><p>whether the widget should expect user input</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-get-interactive"></a><h3>chimara_glk_get_interactive ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
chimara_glk_get_interactive (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>);</pre>
<p>Returns whether <em class="parameter"><code>glk</code></em>
 is interactive (expecting user input). See 
<a href="ChimaraGlk.html#ChimaraGlk--interactive" title="The “interactive” property"><span class="type">“interactive”</span></a>.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-get-interactive.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="chimara-glk-get-interactive.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if <em class="parameter"><code>glk</code></em>
is interactive.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-set-protect"></a><h3>chimara_glk_set_protect ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chimara_glk_set_protect (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>,
                         <em class="parameter"><code><span class="type">gboolean</span> protect</code></em>);</pre>
<p>Sets the <a href="ChimaraGlk.html#ChimaraGlk--protect" title="The “protect” property"><span class="type">“protect”</span></a> property of <em class="parameter"><code>glk</code></em>
. In protect mode, the Glk 
program is not allowed to do file operations.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-set-protect.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>protect</p></td>
<td class="parameter_description"><p>whether the widget should allow the Glk program to do file
operations</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-get-protect"></a><h3>chimara_glk_get_protect ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
chimara_glk_get_protect (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>);</pre>
<p>Returns whether <em class="parameter"><code>glk</code></em>
 is in protect mode (banned from doing file operations).
See <a href="ChimaraGlk.html#ChimaraGlk--protect" title="The “protect” property"><span class="type">“protect”</span></a>.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-get-protect.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="chimara-glk-get-protect.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if <em class="parameter"><code>glk</code></em>
is in protect mode.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-set-spacing"></a><h3>chimara_glk_set_spacing ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chimara_glk_set_spacing (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>,
                         <em class="parameter"><code><span class="type">guint</span> spacing</code></em>);</pre>
<p>Sets the <a href="ChimaraGlk.html#ChimaraGlk--spacing" title="The “spacing” property"><span class="type">“spacing”</span></a> property of <em class="parameter"><code>glk</code></em>
, which is the border width in
pixels between Glk windows.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-set-spacing.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>spacing</p></td>
<td class="parameter_description"><p>the number of pixels to put between Glk windows</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-get-spacing"></a><h3>chimara_glk_get_spacing ()</h3>
<pre class="programlisting"><span class="returnvalue">guint</span>
chimara_glk_get_spacing (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>);</pre>
<p>Gets the value set by <a href="ChimaraGlk.html#chimara-glk-set-spacing" title="chimara_glk_set_spacing ()"><code class="function">chimara_glk_set_spacing()</code></a>.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-get-spacing.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="chimara-glk-get-spacing.returns"></a><h4>Returns</h4>
<p> pixels of spacing between Glk windows</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-set-css-to-default"></a><h3>chimara_glk_set_css_to_default ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chimara_glk_set_css_to_default (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>);</pre>
<p>Resets the styles for text buffer and text grid windows to their defaults.</p>
<div class="warning">
<h3 class="title"></h3>
  This function is not implemented yet.
</div>
<div class="refsect3" lang="en">
<a name="chimara-glk-set-css-to-default.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-set-css-from-file"></a><h3>chimara_glk_set_css_from_file ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
chimara_glk_set_css_from_file (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>,
                               <em class="parameter"><code>const <span class="type">gchar</span> *filename</code></em>,
                               <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>Sets the styles for text buffer and text grid windows according to the CSS
file <em class="parameter"><code>filename</code></em>
. Note that the styles are set cumulatively on top of whatever
the styles are at the time this function is called; to reset the styles to
their defaults, use <a href="ChimaraGlk.html#chimara-glk-set-css-to-default" title="chimara_glk_set_css_to_default ()"><code class="function">chimara_glk_set_css_to_default()</code></a>.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-set-css-from-file.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>filename</p></td>
<td class="parameter_description"><p>path to a CSS file, or <code class="literal">NULL</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>location to store a <span class="type">GError</span>, or <code class="literal">NULL</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="chimara-glk-set-css-from-file.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> on success, <code class="literal">FALSE</code> if an error occurred, in which case <em class="parameter"><code>error</code></em>
will be set.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-set-css-from-string"></a><h3>chimara_glk_set_css_from_string ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chimara_glk_set_css_from_string (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>,
                                 <em class="parameter"><code>const <span class="type">gchar</span> *css</code></em>);</pre>
<p>Sets the styles for text buffer and text grid windows according to the CSS
code <em class="parameter"><code>css</code></em>
. Note that the styles are set cumulatively on top of whatever the 
styles are at the time this function is called; to reset the styles to their
defaults, use <a href="ChimaraGlk.html#chimara-glk-set-css-to-default" title="chimara_glk_set_css_to_default ()"><code class="function">chimara_glk_set_css_to_default()</code></a>.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-set-css-from-string.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>css</p></td>
<td class="parameter_description"><p>a string containing CSS code</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-run"></a><h3>chimara_glk_run ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
chimara_glk_run (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>,
                 <em class="parameter"><code>const <span class="type">gchar</span> *plugin</code></em>,
                 <em class="parameter"><code><span class="type">int</span> argc</code></em>,
                 <em class="parameter"><code><span class="type">char</span> *argv[]</code></em>,
                 <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>Opens a Glk program compiled as a plugin. Sorts out its command line
arguments from <span class="type">glkunix_arguments</span>, calls its startup function
<code class="function">glkunix_startup_code()</code>, and then calls its main function <code class="function">glk_main()</code> in
a separate thread. On failure, returns <code class="literal">FALSE</code> and sets <em class="parameter"><code>error</code></em>
.</p>
<p>The plugin must at least export a <code class="function">glk_main()</code> function; <span class="type">glkunix_arguments</span> and
<code class="function">glkunix_startup_code()</code> are optional.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-run.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>plugin</p></td>
<td class="parameter_description"><p>path to a plugin module compiled with <code class="literal">glk.h</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>argc</p></td>
<td class="parameter_description"><p>Number of command line arguments in <em class="parameter"><code>argv</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>argv</p></td>
<td class="parameter_description"><p>Array of command line arguments to pass to the plugin</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>location to store a <span class="type">GError</span>, or <code class="literal">NULL</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="chimara-glk-run.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if the Glk program was started successfully.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-run-file"></a><h3>chimara_glk_run_file ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
chimara_glk_run_file (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *self</code></em>,
                      <em class="parameter"><code><span class="type">GFile</span> *plugin_file</code></em>,
                      <em class="parameter"><code><span class="type">int</span> argc</code></em>,
                      <em class="parameter"><code><span class="type">char</span> *argv[]</code></em>,
                      <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>Opens a Glk program compiled as a plugin, from a <span class="type">GFile</span>. See
<a href="ChimaraGlk.html#chimara-glk-run" title="chimara_glk_run ()"><code class="function">chimara_glk_run()</code></a> for details.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-run-file.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>plugin_file</p></td>
<td class="parameter_description"><p>a <span class="type">GFile</span> pointing to a plugin module compiled with <code class="literal">glk.h</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>argc</p></td>
<td class="parameter_description"><p>Number of command line arguments in <em class="parameter"><code>argv</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>argv</p></td>
<td class="parameter_description"><p>Array of command line arguments to pass to the plugin</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>location to store a <span class="type">GError</span>, or <code class="literal">NULL</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="chimara-glk-run-file.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if the Glk program was started successfully.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-stop"></a><h3>chimara_glk_stop ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chimara_glk_stop (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>);</pre>
<p>Signals the Glk program running in <em class="parameter"><code>glk</code></em>
 to abort. Note that if the program is
caught in an infinite loop in which <a href="chimara-The-Tick-Thing.html#glk-tick" title="glk_tick ()"><code class="function">glk_tick()</code></a> is not called, this may not
work.</p>
<p>This function does nothing if no Glk program is running.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-stop.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-wait"></a><h3>chimara_glk_wait ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chimara_glk_wait (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>);</pre>
<p>Holds up the main thread and waits for the Glk program running in <em class="parameter"><code>glk</code></em>
 to 
finish.</p>
<p>This function does nothing if no Glk program is running.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-wait.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-unload-plugin"></a><h3>chimara_glk_unload_plugin ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chimara_glk_unload_plugin (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>);</pre>
<p>The plugin containing the Glk program is unloaded as late as possible before
loading a new plugin, in order to prevent crashes while printing stack
backtraces during debugging. Sometimes this behavior is not desirable. This
function forces <em class="parameter"><code>glk</code></em>
 to unload the plugin running in it.</p>
<p>This function does nothing if there is no plugin loaded.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-unload-plugin.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-get-running"></a><h3>chimara_glk_get_running ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
chimara_glk_get_running (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>);</pre>
<p>Use this function to tell whether a program is currently running in the
widget.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-get-running.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="chimara-glk-get-running.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if <em class="parameter"><code>glk</code></em>
is executing a Glk program, <code class="literal">FALSE</code> otherwise.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-feed-char-input"></a><h3>chimara_glk_feed_char_input ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chimara_glk_feed_char_input (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>,
                             <em class="parameter"><code><span class="type">guint32</span> keyval</code></em>);</pre>
<p>Pretend that a key was pressed in the Glk program as a response to a 
character input request. You can call this function even when no window has
requested character input, in which case the key will be saved for the 
following window that requests character input. This has the disadvantage 
that if more than one window has requested character input, it is arbitrary 
which one gets the key press.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-feed-char-input.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>keyval</p></td>
<td class="parameter_description"><p>a key symbol as defined in <code class="literal">gdk/gdkkeysyms.h</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-feed-line-input"></a><h3>chimara_glk_feed_line_input ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chimara_glk_feed_line_input (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>,
                             <em class="parameter"><code>const <span class="type">gchar</span> *text</code></em>);</pre>
<p>Pretend that <em class="parameter"><code>text</code></em>
 was typed in the Glk program as a response to a line input
request. <em class="parameter"><code>text</code></em>
 does not need to end with a newline. You can call this 
function even when no window has requested line input, in which case the text
will be saved for the following window that requests line input. This has the 
disadvantage that if more than one window has requested line input, it is
arbitrary which one gets the text.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-feed-line-input.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>text</p></td>
<td class="parameter_description"><p>text to pass to the next line input request</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-is-char-input-pending"></a><h3>chimara_glk_is_char_input_pending ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
chimara_glk_is_char_input_pending (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>);</pre>
<p>Use this function to tell if character input forced by 
<a href="ChimaraGlk.html#chimara-glk-feed-char-input" title="chimara_glk_feed_char_input ()"><code class="function">chimara_glk_feed_char_input()</code></a> has been passed to an input request or not.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-is-char-input-pending.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="chimara-glk-is-char-input-pending.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if forced character input is pending, <code class="literal">FALSE</code> otherwise.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-is-line-input-pending"></a><h3>chimara_glk_is_line_input_pending ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
chimara_glk_is_line_input_pending (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>);</pre>
<p>Use this function to tell if line input forced by 
<a href="ChimaraGlk.html#chimara-glk-feed-line-input" title="chimara_glk_feed_line_input ()"><code class="function">chimara_glk_feed_line_input()</code></a> has been passed to an input request or not.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-is-line-input-pending.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="chimara-glk-is-line-input-pending.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if forced line input is pending, <code class="literal">FALSE</code> otherwise.</p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-get-tag"></a><h3>chimara_glk_get_tag ()</h3>
<pre class="programlisting"><span class="returnvalue">GtkTextTag</span> *
chimara_glk_get_tag (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>,
                     <em class="parameter"><code><a href="ChimaraGlk.html#ChimaraGlkWindowType" title="enum ChimaraGlkWindowType"><span class="type">ChimaraGlkWindowType</span></a> window</code></em>,
                     <em class="parameter"><code>const <span class="type">gchar</span> *name</code></em>);</pre>
<p>Use this function to get a <span class="type">GtkTextTag</span> so style properties can be changed.
See also <a href="ChimaraGlk.html#chimara-glk-set-css-from-string" title="chimara_glk_set_css_from_string ()"><code class="function">chimara_glk_set_css_from_string()</code></a>.</p>
<p>The layout of the text in Chimara is controlled by two sets of tags: one set
describing the style in text buffers and one for text grids. See also the
Glk specification for the difference between the two. The main narrative of
a game is usually rendered in text buffers, whereas text grids are mostly
used for status bars and in game menus.</p>
<p>The following tag names are supported:</p>
<div class="itemizedlist"><ul type="disc">
<li><p>normal</p></li>
<li><p>emphasized</p></li>
<li><p>preformatted</p></li>
<li><p>header</p></li>
<li><p>subheader</p></li>
<li><p>alert</p></li>
<li><p>note</p></li>
<li><p>block-quote</p></li>
<li><p>input</p></li>
<li><p>user1</p></li>
<li><p>user2</p></li>
<li><p>hyperlink</p></li>
<li><p>pager</p></li>
</ul></div>
<div class="refsect3" lang="en">
<a name="chimara-glk-get-tag.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>window</p></td>
<td class="parameter_description"><p>The type of window to retrieve the tag for</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>name</p></td>
<td class="parameter_description"><p>The name of the tag to retrieve</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="chimara-glk-get-tag.returns"></a><h4>Returns</h4>
<p> The <span class="type">GtkTextTag</span> corresponding to <em class="parameter"><code>name</code></em>
in the
styles of <em class="parameter"><code>window</code></em>
. </p>
<p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-get-tag-names"></a><h3>chimara_glk_get_tag_names ()</h3>
<pre class="programlisting">const <span class="returnvalue">gchar</span> **
chimara_glk_get_tag_names (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>,
                           <em class="parameter"><code>unsigned <span class="type">int</span> *num_tags</code></em>);</pre>
<p>Retrieves the possible tag names to use in <a href="ChimaraGlk.html#chimara-glk-get-tag" title="chimara_glk_get_tag ()"><code class="function">chimara_glk_get_tag()</code></a>.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-get-tag-names.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>num_tags</p></td>
<td class="parameter_description"><p>Return location for the number of tag names retrieved.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3" lang="en">
<a name="chimara-glk-get-tag-names.returns"></a><h4>Returns</h4>
<p>Array of strings containing the tag names. This array is owned by Chimara,
do not free it. </p>
<p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>][<acronym title="Parameter points to an array of items."><span class="acronym">array</span></acronym> length=num_tags][<acronym title="Generics and defining elements of containers and arrays."><span class="acronym">element-type</span></acronym> utf8]</span></p>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="chimara-glk-set-resource-load-callback"></a><h3>chimara_glk_set_resource_load_callback ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chimara_glk_set_resource_load_callback
                               (<em class="parameter"><code><a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk</code></em>,
                                <em class="parameter"><code><a href="ChimaraGlk.html#ChimaraResourceLoadFunc" title="ChimaraResourceLoadFunc ()"><span class="type">ChimaraResourceLoadFunc</span></a> func</code></em>,
                                <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                                <em class="parameter"><code><span class="type">GDestroyNotify</span> destroy_user_data</code></em>);</pre>
<p>Sometimes it is preferable to load image and sound resources from somewhere
else than a Blorb file, for example while developing a game. Section 14 of
the <a href="http://eblong.com/zarf/blorb/blorb.html#s14" target="_top">Blorb specification</a> allows
for this possibility.
This function sets <em class="parameter"><code>func</code></em>
 to be called when the Glk program requests loading
an image or sound without a Blorb resource map having been loaded, optionally
passing <em class="parameter"><code>user_data</code></em>
 as an extra parameter.</p>
<p>Note that <em class="parameter"><code>func</code></em>
 is only called if no Blorb resource map has been set; having
a resource map in place overrides this function.</p>
<p>If you pass non-<code class="literal">NULL</code> for <em class="parameter"><code>destroy_user_data</code></em>
, then <em class="parameter"><code>glk</code></em>
 takes ownership of
<em class="parameter"><code>user_data</code></em>
. When it is not needed anymore, it will be freed by calling
<em class="parameter"><code>destroy_user_data</code></em>
 on it. If you wish to retain ownership of <em class="parameter"><code>user_data</code></em>
, pass
<code class="literal">NULL</code> for <em class="parameter"><code>destroy_user_data</code></em>
.</p>
<p>To deactivate the callback, call this function with <em class="parameter"><code>func</code></em>
 set to <code class="literal">NULL</code>.</p>
<div class="refsect3" lang="en">
<a name="chimara-glk-set-resource-load-callback.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>a <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widget</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>func</p></td>
<td class="parameter_description"><p>a function to call for loading resources, or <code class="literal">NULL</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data to pass to <em class="parameter"><code>func</code></em>
, or <code class="literal">NULL</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>destroy_user_data</p></td>
<td class="parameter_description"><p>a function to call for freeing <em class="parameter"><code>user_data</code></em>
, or <code class="literal">NULL</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.other_details"></a><h2>Types and Values</h2>
<div class="refsect2" lang="en">
<a name="ChimaraGlk-struct"></a><h3>ChimaraGlk</h3>
<pre class="programlisting">typedef struct _ChimaraGlk ChimaraGlk;</pre>
<p>This structure contains no public members.</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraError"></a><h3>enum ChimaraError</h3>
<p>Error codes returned by <a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> widgets and subclasses.</p>
<div class="refsect3" lang="en">
<a name="ChimaraError.members"></a><h4>Members</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="enum_member_name"><p><a name="CHIMARA-LOAD-MODULE-ERROR:CAPS"></a>CHIMARA_LOAD_MODULE_ERROR</p></td>
<td class="enum_member_description">
<p>There was an error opening the plugin containing
the Glk program.
The error message from <code class="function">g_module_error()</code> is appended to the <span class="type">GError</span> message.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="CHIMARA-NO-GLK-MAIN:CAPS"></a>CHIMARA_NO_GLK_MAIN</p></td>
<td class="enum_member_description">
<p>The plugin containing the Glk program did not export a 
<code class="function">glk_main()</code> function.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="CHIMARA-PLUGIN-NOT-FOUND:CAPS"></a>CHIMARA_PLUGIN_NOT_FOUND</p></td>
<td class="enum_member_description">
<p>An appropriate interpreter plugin for the 
autodetected game file type could not be found.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="CHIMARA-PLUGIN-ALREADY-RUNNING:CAPS"></a>CHIMARA_PLUGIN_ALREADY_RUNNING</p></td>
<td class="enum_member_description">
<p>A plugin was opened while there was already
another plugin running in the widget.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="CHIMARA-ERROR:CAPS"></a><h3>CHIMARA_ERROR</h3>
<pre class="programlisting">#define CHIMARA_ERROR chimara_error_quark()
</pre>
<p>The domain of errors raised by Chimara widgets.</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraResourceType"></a><h3>enum ChimaraResourceType</h3>
<p>The type of resource that the Glk program is requesting, passed to a
<a href="ChimaraGlk.html#ChimaraResourceLoadFunc" title="ChimaraResourceLoadFunc ()"><span class="type">ChimaraResourceLoadFunc</span></a>.</p>
<div class="refsect3" lang="en">
<a name="ChimaraResourceType.members"></a><h4>Members</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="enum_member_name"><p><a name="CHIMARA-RESOURCE-SOUND:CAPS"></a>CHIMARA_RESOURCE_SOUND</p></td>
<td class="enum_member_description">
<p>A sound file.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="CHIMARA-RESOURCE-IMAGE:CAPS"></a>CHIMARA_RESOURCE_IMAGE</p></td>
<td class="enum_member_description">
<p>An image file.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlkWindowType"></a><h3>enum ChimaraGlkWindowType</h3>
<p>Specifies the type of windows for which to retrieve the style tag with
<a href="ChimaraGlk.html#chimara-glk-get-tag" title="chimara_glk_get_tag ()"><code class="function">chimara_glk_get_tag()</code></a>.</p>
<div class="refsect3" lang="en">
<a name="ChimaraGlkWindowType.members"></a><h4>Members</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="enum_member_name"><p><a name="CHIMARA-GLK-TEXT-BUFFER:CAPS"></a>CHIMARA_GLK_TEXT_BUFFER</p></td>
<td class="enum_member_description">
<p>The styles for text buffer windows.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="CHIMARA-GLK-TEXT-GRID:CAPS"></a>CHIMARA_GLK_TEXT_GRID</p></td>
<td class="enum_member_description">
<p>The styles for text grid windows.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.property-details"></a><h2>Property Details</h2>
<div class="refsect2" lang="en">
<a name="ChimaraGlk--interactive"></a><h3>The <code class="literal">“interactive”</code> property</h3>
<pre class="programlisting">  “interactive”              <span class="type">gboolean</span></pre>
<p>Sets whether the widget is interactive. A Glk widget is normally

interactive, but in non-interactive mode, keyboard and mouse input are

ignored and the Glk program is controlled by

<a href="ChimaraGlk.html#chimara-glk-feed-char-input" title="chimara_glk_feed_char_input ()"><code class="function">chimara_glk_feed_char_input()</code></a> and <a href="ChimaraGlk.html#chimara-glk-feed-line-input" title="chimara_glk_feed_line_input ()"><code class="function">chimara_glk_feed_line_input()</code></a>.

“More” prompts when a lot of text is printed to a text buffer are also
disabled.
This is typically used when you wish to control an interpreter program by
feeding it a predefined list of commands.</p>
<p>Flags: Read / Write / Construct</p>
<p>Default value: TRUE</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlk--program-info"></a><h3>The <code class="literal">“program-info”</code> property</h3>
<pre class="programlisting">  “program-info”             <span class="type">gchar</span> *</pre>
<p>Information about the currently running Glk program. You cannot set this
property yourself. The plugin can change it by calling
<a href="chimara-Gargoyle-Extensions.html#garglk-set-program-info" title="garglk_set_program_info ()"><code class="function">garglk_set_program_info()</code></a>. See also <a href="ChimaraGlk.html#ChimaraGlk--program-name" title="The “program-name” property"><span class="type">“program-name”</span></a>.</p>
<p>Flags: Read</p>
<p>Default value: NULL</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlk--program-name"></a><h3>The <code class="literal">“program-name”</code> property</h3>
<pre class="programlisting">  “program-name”             <span class="type">gchar</span> *</pre>
<p>The name of the currently running Glk program. You cannot set this

property yourself. It is set to the filename of the plugin when you call
<a href="ChimaraGlk.html#chimara-glk-run" title="chimara_glk_run ()"><code class="function">chimara_glk_run()</code></a>, but the plugin can change it by calling

<a href="chimara-Gargoyle-Extensions.html#garglk-set-program-name" title="garglk_set_program_name ()"><code class="function">garglk_set_program_name()</code></a>. To find out when this information changes,
for example to put the program name in the title bar of a window, connect
to the <code class="literal">::notify::program-name</code> signal.</p>
<p>Flags: Read</p>
<p>Default value: NULL</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlk--protect"></a><h3>The <code class="literal">“protect”</code> property</h3>
<pre class="programlisting">  “protect”                  <span class="type">gboolean</span></pre>
<p>Sets whether the Glk program is allowed to do file operations. In protect
mode, all file operations will fail.</p>
<p>Flags: Read / Write / Construct</p>
<p>Default value: FALSE</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlk--running"></a><h3>The <code class="literal">“running”</code> property</h3>
<pre class="programlisting">  “running”                  <span class="type">gboolean</span></pre>
<p>Whether this Glk widget is currently running a game or not.</p>
<p>Flags: Read</p>
<p>Default value: FALSE</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlk--spacing"></a><h3>The <code class="literal">“spacing”</code> property</h3>
<pre class="programlisting">  “spacing”                  <span class="type">guint</span></pre>
<p>The amount of space between the Glk windows. This space forms a visible
border between windows; however, if you open a window using the
<a href="chimara-Window-Opening-Closing-and-Constraints.html#winmethod-NoBorder" title="winmethod_NoBorder"><code class="literal">winmethod_NoBorder</code></a> flag, there will be no spacing between it and its
sibling window, no matter what the value of this property is.</p>
<p>Flags: Read / Write / Construct</p>
<p>Default value: 0</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlk--story-name"></a><h3>The <code class="literal">“story-name”</code> property</h3>
<pre class="programlisting">  “story-name”               <span class="type">gchar</span> *</pre>
<p>The name of the story currently running in the Glk interpreter. You
cannot set this property yourself. It is set to the story filename when
you call <a href="chimara-chimara-if.html#chimara-if-run-game" title="chimara_if_run_game ()"><code class="function">chimara_if_run_game()</code></a>, but the plugin can change it by calling
<a href="chimara-Gargoyle-Extensions.html#garglk-set-story-name" title="garglk_set_story_name ()"><code class="function">garglk_set_story_name()</code></a>.</p>
<p>Strictly speaking, this should be a property of <a href="chimara-chimara-if.html#ChimaraIF"><span class="type">ChimaraIF</span></a>, but it is
legal for any Glk program to call <a href="chimara-Gargoyle-Extensions.html#garglk-set-story-name" title="garglk_set_story_name ()"><code class="function">garglk_set_story_name()</code></a>, even if it is
not an interpreter and does not load story files.</p>
<p>Flags: Read</p>
<p>Default value: NULL</p>
</div>
</div>
<div class="refsect1" lang="en">
<a name="ChimaraGlk.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2" lang="en">
<a name="ChimaraGlk-char-input"></a><h3>The <code class="literal">“char-input”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *self,
               <span class="type">guint</span>       window_rock,
               <span class="type">gchar</span>      *window_id_string,
               <span class="type">guint</span>       keysym,
               <span class="type">gpointer</span>    user_data)</pre>
<p>Emitted when a Glk window receives character input.
The <em class="parameter"><code>window_rock</code></em>
 can be used to identify the window.
However, rock values in Glk are allowed to be identical for different
windows, so Chimara also provides a string value with which the window
can be uniquely identified.</p>
<div class="refsect3" lang="en">
<a name="ChimaraGlk-char-input.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>The widget that received the signal</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>window_rock</p></td>
<td class="parameter_description"><p>The rock value of the window that received character input
(see <a href="chimara-Opaque-Objects.html#chimara-Rocks" title="Rocks">Rocks</a>)</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>window_id_string</p></td>
<td class="parameter_description"><p>A string value uniquely identifying the window that
received character input</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>keysym</p></td>
<td class="parameter_description"><p>The key that was typed, in the form of a key symbol from
<code class="literal">gdk/gdkkeysyms.h</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlk-iliad-screen-update"></a><h3>The <code class="literal">“iliad-screen-update”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *self,
               <span class="type">gboolean</span>    typing,
               <span class="type">gpointer</span>    user_data)</pre>
<p>Iliad specific signal which is emitted whenever the screen needs to be updated.
Since iliad screen updates are very slow, updating should only be done when
necessary.</p>
<div class="refsect3" lang="en">
<a name="ChimaraGlk-iliad-screen-update.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>The widget that received the signal</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>typing</p></td>
<td class="parameter_description"><p>Whether to perform a typing or full screen update</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlk-line-input"></a><h3>The <code class="literal">“line-input”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *self,
               <span class="type">guint</span>       window_rock,
               <span class="type">gchar</span>      *window_id_string,
               <span class="type">gchar</span>      *text,
               <span class="type">gpointer</span>    user_data)</pre>
<p>Emitted when a Glk window receives line input.
The <em class="parameter"><code>window_rock</code></em>
 can be used to identify the window.
However, rock values in Glk are allowed to be identical for different
windows, so Chimara also provides a string value with which the window
can be uniquely identified.</p>
<div class="refsect3" lang="en">
<a name="ChimaraGlk-line-input.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>The widget that received the signal</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>window_rock</p></td>
<td class="parameter_description"><p>The rock value of the window that received line input (see
<a href="chimara-Opaque-Objects.html#chimara-Rocks" title="Rocks">Rocks</a>)</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>window_id_string</p></td>
<td class="parameter_description"><p>A string value uniquely identifying the window that
received the input</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>text</p></td>
<td class="parameter_description"><p>The text that was typed</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlk-started"></a><h3>The <code class="literal">“started”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk,
               <span class="type">gpointer</span>    user_data)</pre>
<p>Emitted when a Glk program starts executing in the widget.</p>
<div class="refsect3" lang="en">
<a name="ChimaraGlk-started.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>The widget that received the signal</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p>Flags: Run First</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlk-stopped"></a><h3>The <code class="literal">“stopped”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk,
               <span class="type">gpointer</span>    user_data)</pre>
<p>Emitted when the a Glk program finishes executing in the widget, whether
it ended normally, or was interrupted.</p>
<div class="refsect3" lang="en">
<a name="ChimaraGlk-stopped.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>The widget that received the signal</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p>Flags: Run First</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlk-text-buffer-output"></a><h3>The <code class="literal">“text-buffer-output”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *self,
               <span class="type">guint</span>       window_rock,
               <span class="type">gchar</span>      *window_id_string,
               <span class="type">gchar</span>      *text,
               <span class="type">gpointer</span>    user_data)</pre>
<p>Emitted when text is printed to a text buffer window.
The <em class="parameter"><code>window_rock</code></em>
 can be used to identify the window.
However, rock values in Glk are allowed to be identical for different
windows, so Chimara also provides a string value with which the window
can be uniquely identified.</p>
<div class="refsect3" lang="en">
<a name="ChimaraGlk-text-buffer-output.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>The widget that received the signal</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>window_rock</p></td>
<td class="parameter_description"><p>The rock value of the window that was printed to (see
<a href="chimara-Opaque-Objects.html#chimara-Rocks" title="Rocks">Rocks</a>)</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>window_id_string</p></td>
<td class="parameter_description"><p>A string value uniquely identifying the window that
was printed to</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>text</p></td>
<td class="parameter_description"><p>The text that was printed</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="ChimaraGlk-waiting"></a><h3>The <code class="literal">“waiting”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a href="ChimaraGlk.html" title="ChimaraGlk"><span class="type">ChimaraGlk</span></a> *glk,
               <span class="type">gpointer</span>    user_data)</pre>
<p>Emitted when <a href="chimara-Events.html#glk-select" title="glk_select ()"><code class="function">glk_select()</code></a> is called by the Glk program and the event
queue is empty, which means that the widget is waiting for input.</p>
<div class="refsect3" lang="en">
<a name="ChimaraGlk-waiting.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>glk</p></td>
<td class="parameter_description"><p>The widget that received the signal</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.25</div>
</body>
</html>